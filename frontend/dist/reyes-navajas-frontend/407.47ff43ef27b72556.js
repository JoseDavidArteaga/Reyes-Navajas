"use strict";(self.webpackChunkreyes_navajas_frontend=self.webpackChunkreyes_navajas_frontend||[]).push([[407],{3407:(k,r,l)=>{l.r(r),l.d(r,{ColaVirtualComponent:()=>g});var s=l(177),c=l(9757),t=l(4438),d=l(3897);const u=(o,i)=>i.id;function p(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",4)(1,"div",11)(2,"h2",12),t.EFF(3," Est\xe1s en la cola "),t.k0s(),t.j41(4,"div",13)(5,"div",11)(6,"div",14),t.EFF(7),t.k0s(),t.j41(8,"div",3),t.EFF(9,"Posici\xf3n"),t.k0s()(),t.j41(10,"div",11)(11,"div",14),t.EFF(12),t.k0s(),t.j41(13,"div",3),t.EFF(14,"Minutos aprox."),t.k0s()(),t.j41(15,"div",11)(16,"button",15),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.salirDeCola())}),t.EFF(17," Salir de la Cola "),t.k0s()()()()()}if(2&o){let e,n;const a=t.XpG();t.R7$(7),t.SpI(" ",null==(e=a.colaService.miPosicion())?null:e.posicion," "),t.R7$(5),t.SpI(" ",null==(n=a.colaService.miPosicion())?null:n.tiempoEspera," ")}}function m(o,i){1&o&&(t.nrm(0,"app-loading-spinner",19),t.j41(1,"span",20),t.EFF(2,"Uni\xe9ndose..."),t.k0s())}function _(o,i){1&o&&t.EFF(0," Unirse a la Cola ")}function C(o,i){if(1&o){const e=t.RV6();t.j41(0,"div",16)(1,"h2",6),t.EFF(2," \xdanete a la cola virtual "),t.k0s(),t.j41(3,"p",17),t.EFF(4," Sin cita previa, solo espera tu turno desde donde est\xe9s "),t.k0s(),t.j41(5,"button",18),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.unirseACola())}),t.DNE(6,m,3,0)(7,_,1,0),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(5),t.Y8G("disabled",e.colaService.isLoading()),t.R7$(),t.vxM(6,e.colaService.isLoading()?6:7)}}function v(o,i){1&o&&t.nrm(0,"app-loading-spinner",7)}function F(o,i){if(1&o&&(t.j41(0,"p",28),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.servicio.nombre," ")}}function x(o,i){1&o&&(t.j41(0,"div",31),t.EFF(1," En servicio "),t.k0s())}function E(o,i){if(1&o&&(t.j41(0,"div",22)(1,"div",24)(2,"div",25)(3,"span",26),t.EFF(4),t.k0s()(),t.j41(5,"div")(6,"p",27),t.EFF(7),t.k0s(),t.DNE(8,F,2,1,"p",28),t.k0s()(),t.j41(9,"div",29)(10,"span",30),t.EFF(11),t.k0s(),t.DNE(12,x,2,0,"div",31),t.k0s()()),2&o){const e=i.$implicit;t.R7$(4),t.SpI(" ",e.posicion," "),t.R7$(3),t.SpI(" ",null==e.cliente?null:e.cliente.nombre," "),t.R7$(),t.vxM(8,e.servicio?8:-1),t.R7$(3),t.SpI(" ~",e.tiempoEspera," min "),t.R7$(),t.vxM(12,"EN_SERVICIO"===e.estado?12:-1)}}function f(o,i){1&o&&(t.j41(0,"div",23)(1,"div",32),t.EFF(2,"\u{1fa91}"),t.k0s(),t.j41(3,"p",3),t.EFF(4," No hay nadie en la cola en este momento "),t.k0s()())}function b(o,i){if(1&o&&(t.j41(0,"div",21),t.Z7z(1,E,13,5,"div",22,u,!1,f,5,0,"div",23),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Dyx(e.colaService.cola())}}let g=(()=>{class o{constructor(e){this.colaService=e}ngOnInit(){}unirseACola(){this.colaService.unirseACola({}).subscribe({next:e=>{e.success&&console.log("Unido a la cola exitosamente")},error:e=>{console.error("Error al unirse a la cola:",e)}})}salirDeCola(){this.colaService.salirDeCola().subscribe({next:e=>{e.success&&console.log("Saliste de la cola")},error:e=>{console.error("Error al salir de la cola:",e)}})}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(d.Lw))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-cola-virtual"]],standalone:!0,features:[t.aNF],decls:25,vars:2,consts:[[1,"max-w-4xl","mx-auto","p-6"],[1,"mb-8"],[1,"text-3xl","font-display","font-bold","text-gray-100","mb-2"],[1,"text-gray-400"],[1,"card","mb-6","bg-barberia-gold","bg-opacity-10","border-barberia-gold"],[1,"card"],[1,"text-xl","font-semibold","text-gray-100","mb-4"],["message","Cargando estado de la cola..."],[1,"mt-6","bg-gray-900","rounded-lg","p-4"],[1,"text-lg","font-semibold","text-gray-100","mb-2"],[1,"space-y-2","text-sm","text-gray-400"],[1,"text-center"],[1,"text-2xl","font-semibold","text-barberia-gold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"text-4xl","font-bold","text-barberia-gold"],[1,"btn-danger",3,"click"],[1,"card","mb-6"],[1,"text-gray-400","mb-6"],[1,"btn-primary","w-full","py-3",3,"click","disabled"],["size","small"],[1,"ml-2"],[1,"space-y-3"],[1,"bg-gray-900","rounded-lg","p-4","flex","items-center","justify-between"],[1,"text-center","py-8"],[1,"flex","items-center"],[1,"w-8","h-8","bg-barberia-gold","bg-opacity-20","rounded-full","flex","items-center","justify-center","mr-3"],[1,"text-barberia-gold","font-semibold"],[1,"text-gray-100","font-medium"],[1,"text-gray-400","text-sm"],[1,"text-right"],[1,"text-barberia-gold"],[1,"text-xs","text-green-400","mt-1"],[1,"text-6xl","mb-4","opacity-50"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3," Cola Virtual "),t.k0s(),t.j41(4,"p",3),t.EFF(5," \xdanete a la cola para ser atendido sin cita previa "),t.k0s()(),t.DNE(6,p,18,2,"div",4)(7,C,8,2),t.j41(8,"div",5)(9,"h2",6),t.EFF(10," Cola actual "),t.k0s(),t.DNE(11,v,1,0,"app-loading-spinner",7)(12,b,4,1),t.k0s(),t.j41(13,"div",8)(14,"h3",9),t.EFF(15," \xbfC\xf3mo funciona? "),t.k0s(),t.j41(16,"div",10)(17,"p"),t.EFF(18,"\u2022 \xdanete a la cola virtual sin necesidad de cita"),t.k0s(),t.j41(19,"p"),t.EFF(20,"\u2022 Recibe una estimaci\xf3n del tiempo de espera"),t.k0s(),t.j41(21,"p"),t.EFF(22,"\u2022 Puedes salir y volver cuando sea tu turno"),t.k0s(),t.j41(23,"p"),t.EFF(24,"\u2022 Te notificaremos cuando est\xe9s pr\xf3ximo a ser atendido"),t.k0s()()()()),2&n&&(t.R7$(6),t.vxM(6,a.colaService.miPosicion()?6:7),t.R7$(5),t.vxM(11,a.colaService.isLoading()&&!a.colaService.miPosicion()?11:12))},dependencies:[s.MD,c.NB],encapsulation:2,changeDetection:0})}}return o})()}}]);